{"version":3,"file":"js/468.acb14d70.js","mappings":"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","sources":["webpack://jili/./src/views/ClassifyItemView.vue","webpack://jili/src/views/ClassifyItemView.vue","webpack://jili/./src/views/ClassifyItemView.vue?4564","webpack://jili/./src/views/ClassifyItemView.vue?27fd"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"body\"},[_c('div',{staticClass:\"header\"},[_c('van-nav-bar',{attrs:{\"title\":\"标题\",\"z-index\":\"999\",\"fixed\":\"\",\"placeholder\":\"\",\"left-text\":\"返回\",\"left-arrow\":\"\"},on:{\"click-left\":_vm.goBack}},[_c('van-icon',{attrs:{\"slot\":\"right\",\"name\":\"search\"},slot:\"right\"})],1)],1),_c('div',{staticClass:\"main\"},[_c('van-tabs',{attrs:{\"swipe-threshold\":\"4\",\"ellipsis\":false},on:{\"change\":_vm.classifyChange},scopedSlots:_vm._u([{key:\"nav-left\",fn:function(){return [_c('div',{staticStyle:{\"margin-top\":\"0.6rem\"}},[_c('van-tag',{attrs:{\"color\":\"#f2826a\",\"size\":\"large\"}},[_vm._v(\"类别\")])],1)]},proxy:true}]),model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},_vm._l((_vm.classes),function(cs){return _c('van-tab',{key:cs.cid,attrs:{\"type\":\"card\",\"title\":cs.classname}},_vm._l((_vm.items),function(item){return _c('div',{key:item.iid},[_c('van-card',{attrs:{\"tag\":cs.classname,\"price\":item.price,\"desc\":item.comment,\"title\":item.name,\"thumb\":_vm.base + item.img,\"origin-price\":parseInt(item.price) + 15},scopedSlots:_vm._u([{key:\"num\",fn:function(){return [_vm._v(\" 库存: \"+_vm._s(item.quantity)+\" \")]},proxy:true},{key:\"footer\",fn:function(){return [_c('van-button',{attrs:{\"type\":\"danger\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.addShopCar(item.iid)}}},[_vm._v(\"加入购物车\")]),_c('van-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.goItemInfo(item.iid)}}},[_vm._v(\"购买\")])]},proxy:true}],null,true)}),_c('br')],1)}),0)}),1)],1),_c('div',{staticClass:\"footer\"})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"body\">\n        <div class=\"header\">\n            <van-nav-bar title=\"标题\" z-index=\"999\" fixed placeholder left-text=\"返回\" @click-left=\"goBack\" left-arrow>\n                <van-icon name=\"search\" slot=\"right\" />\n            </van-nav-bar>\n        </div>\n        <div class=\"main\">\n            <van-tabs v-model=\"active\" @change=\"classifyChange\" swipe-threshold=\"4\" :ellipsis=\"false\">\n                <van-tab v-for=\"cs in classes\" :key=\"cs.cid\" type=\"card\" :title=\"cs.classname\">\n                    <div v-for=\"item in items\" :key=\"item.iid\">\n                            <van-card\n                            :tag=\"cs.classname\"\n                            :price=\"item.price\"\n                            :desc=\"item.comment\"\n                            :title=\"item.name\"\n                            :thumb=\"base + item.img\"\n                            :origin-price=\"parseInt(item.price) + 15\"\n                            >\n                            <template #num>\n                                库存: {{ item.quantity }}\n                            </template>\n                            <template #footer>\n                                <van-button type=\"danger\" @click=\"addShopCar(item.iid)\" size=\"mini\">加入购物车</van-button>\n                                <van-button type=\"primary\" @click=\"goItemInfo(item.iid)\" size=\"mini\">购买</van-button>\n                            </template>\n                        </van-card>\n                            <!-- thumb后续要改 -->\n                        <br>\n             \n                    </div>\n                </van-tab>\n                <template #nav-left>\n                    <div style=\"margin-top: 0.6rem;\">\n                        <van-tag color=\"#f2826a\" size=\"large\">类别</van-tag>\n                    </div>\n                </template>\n            </van-tabs>\n        </div>\n        <div class=\"footer\"></div>\n    </div>\n</template>\n<style>\n    .body{\n        min-height: 100vh;\n        background-color: #f1f5f7;\n    }\n\n    .main{\n\n    }\n    \n    .footer{\n\n    }\n</style>\n<script>\nimport axios from 'axios';\nimport { Toast } from 'vant';\n\n    const options = {\n        data(){\n            return {\n                active:'0',\n                classes:[],\n                items:[],\n            }\n        },\n        computed: {\n            base(){\n                return axios.defaults.baseURL;\n            },\n        }\n        ,\n        methods: {\n            goBack(){\n                this.$router.push(\"/index\");\n            },\n            classifyChange(index, title){\n                axios.get(`/admin/getic?cid=${this.classes[index].cid}&title=${title}`).then((resp)=>{\n                    this.items = resp.data.data;\n                });\n            },\n            getItemClasses(){\n                axios.get(\"/admin/itemclasses\").then((resp)=>{\n                    this.classes = resp.data.data;\n                });\n            },\n            addShopCar(iid){\n                let form = new FormData();\n                form.set(\"iid\",iid);\n                axios.post(\"/users/addshopcar\",form).then((resp)=>{\n                    Toast(resp.data.msg);\n                })\n            },\n            goItemInfo(iid){\n                this.$router.push(`/iteminfo?iid=${iid}`);\n            },\n        },\n        mounted(){\n            this.getItemClasses();\n            \n        }\n    }\n\n    export default options;\n</script>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ClassifyItemView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ClassifyItemView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ClassifyItemView.vue?vue&type=template&id=6082811a&\"\nimport script from \"./ClassifyItemView.vue?vue&type=script&lang=js&\"\nexport * from \"./ClassifyItemView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ClassifyItemView.vue?vue&type=style&index=0&id=6082811a&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","_setupProxy","staticClass","attrs","on","goBack","slot","classifyChange","scopedSlots","_u","key","fn","staticStyle","_v","proxy","model","value","active","callback","$$v","expression","_l","classes","cs","cid","classname","items","item","iid","price","comment","name","base","img","parseInt","_s","quantity","$event","addShopCar","goItemInfo","staticRenderFns","options","data","computed","axios","defaults","baseURL","methods","$router","push","index","title","get","then","resp","getItemClasses","form","FormData","set","post","Toast","msg","mounted","component"],"sourceRoot":""}