{"version":3,"file":"js/536.f3379f0f.js","mappings":"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","sources":["webpack://jili/./src/views/ShoppingView.vue","webpack://jili/src/views/ShoppingView.vue","webpack://jili/./src/views/ShoppingView.vue?f1a9","webpack://jili/./src/views/ShoppingView.vue?d16e"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"body\"},[_c('div',{staticClass:\"header\"},[_c('van-nav-bar',{attrs:{\"title\":\"文创商城\",\"fixed\":\"\",\"placeholder\":\"\",\"left-text\":\"返回\",\"left-arrow\":\"\"},on:{\"click-left\":_vm.goBack},scopedSlots:_vm._u([{key:\"right\",fn:function(){return [_c('van-icon',{attrs:{\"name\":\"search\",\"size\":\"18\"}})]},proxy:true}])}),_c('van-search',{attrs:{\"clearable\":\"\",\"shape\":\"round\",\"background\":\"#4fc08d\",\"placeholder\":\"请输入搜索关键词\"},on:{\"search\":_vm.searchItem},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})],1),_c('div',{staticClass:\"main\"},[_c('div',_vm._l((_vm.items),function(item){return _c('div',{key:item.iid},[_c('van-card',{attrs:{\"price\":item.price,\"desc\":item.comment,\"title\":item.name,\"thumb\":_vm.base + item.img},scopedSlots:_vm._u([{key:\"num\",fn:function(){return [_vm._v(\" 库存: \"+_vm._s(item.quantity)+\" \")]},proxy:true},{key:\"tags\",fn:function(){return [_c('van-tag',{attrs:{\"plain\":\"\",\"type\":\"danger\"}},[_vm._v(\"标签\")]),_c('van-tag',{attrs:{\"plain\":\"\",\"type\":\"danger\"}},[_vm._v(\"标签\")])]},proxy:true},{key:\"footer\",fn:function(){return [_c('van-button',{attrs:{\"type\":\"danger\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.addShopCar(item.iid)}}},[_vm._v(\"加入购物车\")]),_c('van-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.goItemInfo(item.iid)}}},[_vm._v(\"购买\")])]},proxy:true}],null,true)}),_c('br')],1)}),0)]),_c('van-divider',[_vm._v(\"到底啦\")]),_c('div',{staticClass:\"footer\"},[_c('van-pagination',{attrs:{\"total-items\":_vm.count,\"show-page-size\":3,\"items-per-page\":5,\"force-ellipses\":\"\"},on:{\"change\":_vm.pageChange},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"body\">\n        <div class=\"header\">\n            <van-nav-bar title=\"文创商城\" fixed placeholder left-text=\"返回\" left-arrow @click-left=\"goBack\">\n            <template #right>\n                <van-icon name=\"search\" size=\"18\" />\n            </template>\n            </van-nav-bar>\n            <van-search\n            v-model=\"value\"\n            @search=\"searchItem\"\n            clearable\n            shape=\"round\"\n            background=\"#4fc08d\"\n            placeholder=\"请输入搜索关键词\"\n            />\n        </div>\n        <div class=\"main\">\n            <div>\n                <div v-for=\"item in items\" :key=\"item.iid\">\n                    <van-card\n                    :price=\"item.price\"\n                    :desc=\"item.comment\"\n                    :title=\"item.name\"\n                    \n                    :thumb=\"base + item.img\" \n                    >\n                    <!-- thumb后续要改 -->\n                    <template #num>\n                        库存: {{ item.quantity }}\n                    </template>\n                    <template #tags>\n                        <van-tag plain type=\"danger\">标签</van-tag>\n                        <van-tag plain type=\"danger\">标签</van-tag>\n                    </template>\n                    <template #footer>\n                        <van-button type=\"danger\" @click=\"addShopCar(item.iid)\" size=\"mini\">加入购物车</van-button>\n                        <van-button type=\"primary\" @click=\"goItemInfo(item.iid)\" size=\"mini\">购买</van-button>\n                    </template>\n                    </van-card>\n                    <br>\n                </div>\n            </div>\n        </div>\n        <van-divider>到底啦</van-divider>\n        <div class=\"footer\">\n            <van-pagination\n            v-model=\"currentPage\"\n            @change=\"pageChange\"\n            :total-items=\"count\"\n            :show-page-size=\"3\"\n            :items-per-page=\"5\"\n            force-ellipses\n            />\n        </div>\n    </div>\n</template>\n\n<style>\n    .body{\n        min-height: 100vh;\n        background-color: #f1f5f7;\n    }\n    .header{\n        /* position: fixed;\n        top: 0;\n        z-index: 999;\n        width: 100%; */\n    }\n    .main{\n\n    }\n    .footer{\n        position: fixed;\n        bottom: 0%;\n        width: 100%;\n        z-index: 999;\n    }\n</style>\n<script>\n    import axios from 'axios'\n    import { Toast } from 'vant';\n\n    const options = {\n        data(){\n            return {\n                value:\"\",\n                currentPage:1,\n                count:100,\n                items:[],\n                \n            }\n        },\n        computed: {\n            base(){\n                return axios.defaults.baseURL;\n            },\n        },\n        methods:{\n            goBack(){\n                this.$router.push(\"/index\")\n            },\n            pageChange(){\n                console.log(this.currentPage);\n                axios.get(`/items/${this.currentPage}/${5}`).then((resp)=>{\n                    this.items = resp.data.data\n                });\n            },\n            itemsCount(){\n                axios.get(\"/items/count\").then((resp)=>{\n                    this.count = parseInt(resp.data.data);\n                });\n            },\n            addShopCar(iid){\n                let form = new FormData();\n                form.set(\"iid\",iid);\n                axios.post(\"/users/addshopcar\",form).then((resp)=>{\n                    Toast(resp.data.msg);\n                })\n            },\n            goItemInfo(iid){\n                this.$router.push(`/iteminfo?iid=${iid}`);\n            },\n            searchItem(){\n            let f = new FormData();\n            f.set(\"key\",this.value);\n            axios.post(`/admin/search`,f).then((resp)=>{\n                this.items = resp.data.data;\n            });\n        }\n        },\n        mounted(){\n            this.itemsCount();\n            this.pageChange();\n        }\n    };\n\n    export default options;\n</script>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ShoppingView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ShoppingView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ShoppingView.vue?vue&type=template&id=8b30c39e&\"\nimport script from \"./ShoppingView.vue?vue&type=script&lang=js&\"\nexport * from \"./ShoppingView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ShoppingView.vue?vue&type=style&index=0&id=8b30c39e&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","_setupProxy","staticClass","attrs","on","goBack","scopedSlots","_u","key","fn","proxy","searchItem","model","value","callback","$$v","expression","_l","items","item","iid","price","comment","name","base","img","_v","_s","quantity","$event","addShopCar","goItemInfo","count","pageChange","currentPage","staticRenderFns","options","data","computed","axios","defaults","baseURL","methods","$router","push","console","log","get","then","resp","itemsCount","parseInt","form","FormData","set","post","Toast","msg","f","mounted","component"],"sourceRoot":""}